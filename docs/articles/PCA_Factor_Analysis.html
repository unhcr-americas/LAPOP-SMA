<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Principal Components Vs Factor Analysis • AmericasBarometer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Principal Components Vs Factor Analysis">
<meta property="og:description" content="AmericasBarometer">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AmericasBarometer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Survey_wave_content.html">Survey wave content</a>
    </li>
    <li>
      <a href="../articles/Crunch-report.html">Crunching Report</a>
    </li>
    <li>
      <a href="../articles/Root_Causes.html">Root Causes</a>
    </li>
    <li>
      <a href="../articles/Trends_per_year_by_topic.html">Trends per year by topic</a>
    </li>
    <li>
      <a href="../articles/Explaining_Intention_Migrate.html">Explaining_Intention_Migrate</a>
    </li>
    <li>
      <a href="../articles/Explaining_fear_being_victim.html">Explaining_fear_being_victim</a>
    </li>
    <li>
      <a href="../articles/Explaining_risk_bribes.html">Explaining_risk_bribes</a>
    </li>
    <li>
      <a href="../articles/Building_indices.html">Building indices</a>
    </li>
    <li>
      <a href="../articles/Profiling_Intended_Migrant.html">Profiling Intended Migrant</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/unhcr-americas/LAPOP-SMA/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="PCA_Factor_Analysis_files/header-attrs-2.10/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Principal Components Vs Factor Analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/unhcr-americas/LAPOP-SMA/blob/master/vignettes/PCA_Factor_Analysis.Rmd"><code>vignettes/PCA_Factor_Analysis.Rmd</code></a></small>
      <div class="hidden name"><code>PCA_Factor_Analysis.Rmd</code></div>

    </div>

    
    
<p>This example illustrates the use of the method of Principal Components to form an index</p>
<p>Principal Components is a mathematical technique (not a statistical one!) based off the eigenvalue decomposition/singular value decomposition of a data matrix (or correlation/covariance matrix) Link. This technique re-represents a complicated data set (set of variables) in a simpler form, where the information in the original variables is now represented by fewer components, which represent the majority (we hope!!) of the variance in the original data. This is known as a variable reduction strategy. It is also used commonly to form indices in the behavioral/social sciences. It is closely related to factor analysis Link, and indeed the initial solution of factor analysis is often the exact same as the PCA solution. PCA preserves the orthogonal nature of the components, while factor analysis can violate this assumption.</p>
<p>##Analysis</p>
<p>Now we prepare to fit the survey corrected model. Here I just get the names of the variables that i will use, this keeps the size of things down, in terms of memory used</p>
<p>We use the prcomp function to do the pca, we specify our variables we want in our index using a formula, the name of the data, we also specify R to z-score the data (center=T removes the mean, scale=T divides by the standard deviation for each variable), and the retx=T will calculate the PC scores for each individual for each component.</p>
<pre><code>#&gt; Importance of components:
#&gt;                           PC1    PC2    PC3     PC4     PC5
#&gt; Standard deviation     0.7370 0.6143 0.4676 0.31602 0.29372
#&gt; Proportion of Variance 0.4098 0.2848 0.1650 0.07536 0.06509
#&gt; Cumulative Proportion  0.4098 0.6946 0.8596 0.93491 1.00000</code></pre>
<p><img src="PCA_Factor_Analysis_files/figure-html/unnamed-chunk-4-1.png" width="700" style="display: block; margin: auto;"></p>
<pre><code>#&gt;               PC1        PC2          PC3         PC4           PC5
#&gt; dem11 -0.18754489 -0.1938924  0.962456948  0.03007285 -0.0022163918
#&gt; dem2   0.93138203 -0.3447143  0.112997068 -0.03051093 -0.0005431262
#&gt; jc10  -0.20619275 -0.6222242 -0.167094789  0.10383620  0.7291220805
#&gt; jc13  -0.22188573 -0.6653686 -0.181482566  0.08411002 -0.6841352074
#&gt; jc15a -0.07487126 -0.1170450 -0.007189957 -0.99010517  0.0182976055</code></pre>
<p><img src="PCA_Factor_Analysis_files/figure-html/unnamed-chunk-6-1.png" width="700" style="display: block; margin: auto;"><img src="PCA_Factor_Analysis_files/figure-html/unnamed-chunk-6-2.png" width="700" style="display: block; margin: auto;"></p>
<p>The first two components account for 38.8% of the variation in the input variables, that isn’t bad. Also, we see 3 eigenvalues of at least 1, which suggests there are 3 real components among these 9 variables (remember, we are looking for eigenvalues &gt; 1 when using z-scored data).</p>
<p>In terms of the loadings for PC1, we see positive associations with everything but insurace status. We may interpret this component as an index for overall status, since all variables are loading in the same direction.</p>
<p>For PC2 we see a mixture of loadings, some positive, some negative, and the only two variables that aren’t loading heavily are low physical activity (lowact) and fair/poor self rated (badhealth). We may interpret this components as more of a metabolic physical status, since the postive loadings are on the cardio-pulmonary and body mass variables (hpb, hc and bmi), with the exception of insurance coverage, while the more negative loadings are on more ot the behaviors variables.</p>
<p>Of course, interpreting components is more art than science…</p>
<p>Next, I calculate the correlation between the first 2 components to show they are orthogonal, i.e. correlation == 0</p>
<pre><code>#&gt;                         PC1                     PC2
#&gt; PC1 1.000000000000000000000 0.000000000000001776571
#&gt; PC2 0.000000000000001776571 1.000000000000000000000</code></pre>
<p>Here we examine correlation among our variables</p>
<pre><code>#&gt;        dem11   dem2   jc10   jc13  jc15a
#&gt; dem11  1.000 -0.131  0.138  0.140  0.074
#&gt; dem2  -0.131  1.000 -0.082 -0.086 -0.084
#&gt; jc10   0.138 -0.082  1.000  0.628  0.176
#&gt; jc13   0.140 -0.086  0.628  1.000  0.183
#&gt; jc15a  0.074 -0.084  0.176  0.183  1.000</code></pre>
<p>Sometimes it’s easier to look at the correlations among the original variables and the components</p>
<pre><code>#&gt;        dem11   dem2   jc10   jc13  jc15a    pc1    pc2
#&gt; dem11  1.000 -0.131  0.138  0.140  0.074 -0.285 -0.245
#&gt; dem2  -0.131  1.000 -0.082 -0.086 -0.084  0.953 -0.294
#&gt; jc10   0.138 -0.082  1.000  0.628  0.176 -0.322 -0.811
#&gt; jc13   0.140 -0.086  0.628  1.000  0.183 -0.332 -0.831
#&gt; jc15a  0.074 -0.084  0.176  0.183  1.000 -0.169 -0.221
#&gt; pc1   -0.285  0.953 -0.322 -0.332 -0.169  1.000  0.000
#&gt; pc2   -0.245 -0.294 -0.811 -0.831 -0.221  0.000  1.000</code></pre>
<div id="make-the-survey-design-object" class="section level1">
<h1 class="hasAnchor">
<a href="#make-the-survey-design-object" class="anchor"></a>Make the survey design object</h1>
<pre><code>#&gt;         mean     SE
#&gt; dem2  1.3726 0.0130
#&gt; dem11 1.6194 0.0090
#&gt; jc13  1.5894 0.0082
#&gt; jc10  1.6667 0.0080
#&gt; jc15a 1.8794 0.0058
#&gt; wt    1.0000 0.0000</code></pre>
<p>The first analysis will look at variation in my index across age, and work status:</p>
<p>The age plot is nice, and really shows that older ages have higher values for our index variable, which confirms our interpretation that higher values of the index are “not good”</p>
<p>Now we do some hypothesis testing. This model will examine variation in my index across age, education, race and two healthcare access variables:</p>
<div id="quick-factor-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-factor-analysis" class="anchor"></a>Quick Factor analysis</h2>
<p>In case you were wondering about how to do basic factor analysis, here you go:</p>
<p>So we get a slightly cleaner index with the first factor than with the PCA, in the FA, we see that the first factor is more of a “general index”, with the key variables being the #’s of days and the self rated health, while the second factor corresponds very well with what we saw from the PCA. Often times, factor analysis will often give cleaner looking results than PCA, because you can monkey with the initial solution.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Edouard Legoupil, Hisham Galal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
