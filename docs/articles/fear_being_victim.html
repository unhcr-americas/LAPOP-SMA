<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Out of fear of being a crime victim • AmericasBarometer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Out of fear of being a crime victim">
<meta property="og:description" content="AmericasBarometer">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AmericasBarometer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Building_indices.html">Building Indices</a>
    </li>
    <li>
      <a href="../articles/Trends.html">Trends analysis</a>
    </li>
    <li>
      <a href="../articles/bribes.html">Statistics on bribery</a>
    </li>
    <li>
      <a href="../articles/data-quality.html">Calculating some high-level data quality points</a>
    </li>
    <li>
      <a href="../articles/fear_being_victim.html">Out of fear of being a crime victim</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/unhcr-americas/LAPOP-SMA/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="fear_being_victim_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Out of fear of being a crime victim</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/unhcr-americas/LAPOP-SMA/blob/master/vignettes/fear_being_victim.Rmd"><code>vignettes/fear_being_victim.Rmd</code></a></small>
      <div class="hidden name"><code>fear_being_victim.Rmd</code></div>

    </div>

    
    
<p>Binomial variables are those that can take on two values: 0/1, yes/no, male/female, etc. A <em>lot</em> of the Americas Barometer variables are of this type.</p>
<p>Here, we’ll focus on one example: indicator <code>vic40</code> (Out of fear of being a crime victim, in the last 12 months have you limited the places where you go shop?). This variable takes on the following values:</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>888888 = Don’t know</li>
<li>988888 = No response</li>
</ul>
<p>Before going further, let’s load the necessary libraries:</p>
<p>For now, focus on Honduras in 2014. Assuming that you’ve already downloaded all of the Americas Barometer data (look <a href="https://github.com/ccjolley/LAPOP-SMA/blob/master/load_lapop.R">here</a> if you haven’t), we can load it into an R data frame:</p>
<p>The easiest thing to do is look at the average. We need to make sure that we only look at valid yes/no responses; our average will be meaningless otherwise. The easy way to do this is to create a copy of our data and remove the useless entries. If you want to do this with a different dataset, just replace <code>vic40</code> below with a different indicator.</p>
<pre><code>#&gt; [1] NA</code></pre>
<p>There are two things going on in that statement. <code>vic40==1</code> creates a string of TRUE/FALSE values, telling us whether the answer was equal to 1. Taking the mean of this tells us what fraction of people responded ‘yes’ – about 34%.</p>
<p>Averages can be misleading – they didn’t ask everyone, and so the real average might not be exactly 34%. We can see what the likely range of values is by using an exact binomial test:</p>
<p>This tells us that, out of 1558 people who answered the question, 531 said “yes”, so the population average (what we would get if we really asked everybody) has a 95% chance of being between 31.7% and 36.5%.</p>
<p>Just for fun, we can see what would happen if the LAPOP team had only asked 100 people:</p>
<pre><code>#&gt; 
#&gt;  Exact binomial test
#&gt; 
#&gt; data:  sum(head(my_data, 100) == 1) and 100
#&gt; number of successes = 30, number of trials = 100, p-value = 7.85e-05
#&gt; alternative hypothesis: true probability of success is not equal to 0.5
#&gt; 95 percent confidence interval:
#&gt;  0.2124064 0.3998147
#&gt; sample estimates:
#&gt; probability of success 
#&gt;                    0.3</code></pre>
<p>If we only had the first 100 survey responses, we can only be confident that the population average is between 21.2% and 40%. Asking more people matters!</p>
<p>Suppose we want to make a snazzy bar chart (because pie charts are so 2004). I’m making this chart using <strong>ggplot</strong>, which is a really powerful graphics package for R. The syntax can be sort of intimidating; what I do is to keep a “recipe collection” of plots that have looked nice in the past so that I can just make small changes as needed. If you change which indicator you’re looking at, you might need to adjust things a little to keep it looking nice.</p>
<p><img src="fear_being_victim_files/figure-html/unnamed-chunk-7-1.png" width="768" style="display: block; margin: auto;"></p>
<p>That’s all nice, but there’s probably more we can do with this indicator. For example, we can test for correlations with other binomial variables. For example, are men or women more likely to change their shopping patterns? We can do this using <a href="http://www.cookbook-r.com/Statistical_analysis/Frequency_tests/">Fisher’s exact test</a>.</p>
<p>We’ll want to keep only the observations that have valid answers for both <code>vic40</code> and <code>sex</code>:</p>
<p>Now let’s put them in a contingency table, and run a Fisher test:</p>
<pre><code>#&gt; 
#&gt;  Fisher's Exact Test for Count Data
#&gt; 
#&gt; data:  ct
#&gt; p-value = 1
#&gt; alternative hypothesis: true odds ratio is not equal to 1
#&gt; 95 percent confidence interval:
#&gt;  0.8020483 1.2332385
#&gt; sample estimates:
#&gt; odds ratio 
#&gt;  0.9945607</code></pre>
<p>Our odds ratio is very close to 1, and our p value is &gt; 0.05, so it’s likely that there’s no real difference in how men and women change their shopping behavior in response to fear of crime.</p>
<p>We could also see if being a victim of crime makes people more likely to change their shopping habits out of fear, by looking at the <code>vic1ext</code> indicator:</p>
<pre><code>#&gt; 
#&gt;  Fisher's Exact Test for Count Data
#&gt; 
#&gt; data:  ct
#&gt; p-value &lt; 2.2e-16
#&gt; alternative hypothesis: true odds ratio is not equal to 1
#&gt; 95 percent confidence interval:
#&gt;  0.2491122 0.4292581
#&gt; sample estimates:
#&gt; odds ratio 
#&gt;  0.3273094</code></pre>
<p>Now we have an odds ratio close to 3 – being a victim of crime makes people about 3x as likely to change their shopping habits. Our very low p-value means that this is probably a significant correlation. If you want something more visual, you could try this:</p>
<p><img src="fear_being_victim_files/figure-html/unnamed-chunk-11-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Now it’s really obvious that most non-victims haven’t changed their shopping habits, while a larger fraction of victims have changed theirs.</p>
<p>Where do the people who have made these changes live? I’m going to map this out using the Google Charts API, which looks like the easiest way to make interactive maps in R. For now, we’ll map results by department, which are encoded in the <code>prov</code> indicator. These numeric values need to be translated into <a href="https://en.wikipedia.org/wiki/ISO_3166-2:HN#II-3">ISO-3116-2 region codes</a>.</p>
<p>Now, let’s make our map:</p>
<!-- GeoChart generated in R 4.0.3 by googleVis 0.6.10 package -->
<!-- Thu Apr 29 10:23:59 2021 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataGeoChartID2cf02205e9eb () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"HN-AT",
"Atlántida",
1.529
],
[
"HN-CH",
"Choluteca",
1.681
],
[
"HN-CL",
"Colón",
1.694
],
[
"HN-CM",
"Comayagua",
1.747
],
[
"HN-CP",
"Copán",
1.76
],
[
"HN-CR",
"Cortés",
1.594
],
[
"HN-EP",
"El Paraíso",
1.603
],
[
"HN-FM",
"Francisco Morazán",
1.625
],
[
"HN-GD",
"Gracias a Dios",
1.571
],
[
"HN-IB",
"Islas de la Bahía",
1.708
],
[
"HN-IN",
"Intibucá",
1.833
],
[
"HN-LE",
"Lempira",
1.75
],
[
"HN-LP",
"La Paz",
1.667
],
[
"HN-OC",
"Ocotepeque",
1.826
],
[
"HN-OL",
"Olancho",
1.809
],
[
"HN-SB",
"Santa Bárbara",
1.615
],
[
"HN-VA",
"Valle",
1.787
],
[
"HN-YO",
"Yoro",
1.692
] 
];
data.addColumn('string','Code');
data.addColumn('string','Name');
data.addColumn('number','vic40');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartGeoChartID2cf02205e9eb() {
var data = gvisDataGeoChartID2cf02205e9eb();
var options = {};
options["width"] = 556;
options["height"] = 347;
options["region"] = "HN";
options["resolution"] = "provinces";
options["colorAxis"] = {minValue: 0,  colors: ['#FFFFFF', '#2B65EC']};

    var chart = new google.visualization.GeoChart(
    document.getElementById('GeoChartID2cf02205e9eb')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "geochart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGeoChartID2cf02205e9eb);
})();
function displayChartGeoChartID2cf02205e9eb() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script><!-- jsChart --><script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGeoChartID2cf02205e9eb"></script><!-- divChart --><div id="GeoChartID2cf02205e9eb" style="width: 556; height: 347;">

</div>
<p>So this is OK – it tells us which departments showed the largest and smallest average values for <code>vic40</code>. Hover over the map with your mouse to see department names and average values. Another way of visualizing this that might be useful is to figure out which departments showed values of <code>vic40</code> that are significantly above-average (according to an exact Fisher test) and highlight those.</p>
<p>We can also look to see which departments have below-average values of <code>vic40</code>:</p>
<p>So let’s go back to the high-<code>vic40</code> areas. What’s special about Cortes and Atlantida? Cortes contains San Pedro Sula, which is Honduras’s 2nd-largest city, and Choloma, which is #3. The 4th-largest, La Ceiba, is in Atlantida. Is it possible that all we’re seeing here is urbanization – people in cities experience more crime and more shopping options, so they’re more likely to change their shopping habits? First, let’s see whether <code>vic40</code> correlates with the urbanization indicator, <code>ur</code> (1=urban, 2=rural).</p>
<pre><code>#&gt; 
#&gt;  Fisher's Exact Test for Count Data
#&gt; 
#&gt; data:  ct
#&gt; p-value = 3.509e-07
#&gt; alternative hypothesis: true odds ratio is not equal to 1
#&gt; 95 percent confidence interval:
#&gt;  0.4615961 0.7166913
#&gt; sample estimates:
#&gt; odds ratio 
#&gt;  0.5755926</code></pre>
<p>So we can be at least 95% sure that there’s a relationship between <code>vic40</code> and <code>ur</code>. So is there something special about Atlantida and Cortes, or is the urban/rural split the important factor?</p>
<pre><code>#&gt; 
#&gt;  Fisher's Exact Test for Count Data
#&gt; 
#&gt; data:  ct_urban
#&gt; p-value = 0.0004039
#&gt; alternative hypothesis: true odds ratio is not equal to 1
#&gt; 95 percent confidence interval:
#&gt;  0.4462986 0.8014430
#&gt; sample estimates:
#&gt; odds ratio 
#&gt;  0.5982884</code></pre>
<p>So the city-dwellers of Atlantida and Cortes are more likely to change their shopping location than urban people in other parts of the country.</p>
<pre><code>#&gt; 
#&gt;  Fisher's Exact Test for Count Data
#&gt; 
#&gt; data:  ct_rural
#&gt; p-value = 0.8224
#&gt; alternative hypothesis: true odds ratio is not equal to 1
#&gt; 95 percent confidence interval:
#&gt;  0.5977162 1.5018907
#&gt; sample estimates:
#&gt; odds ratio 
#&gt;  0.9397185</code></pre>
<p>The same doesn’t hold for their rural populations – rural residents of Atlantida and Cortes are no more likely to change their shopping habits than rural people elsewhere.</p>
<p>What if we turn this around? Are urban people in Atlantida and Cortes more likely to change their shopping habits than rural people in those departments?</p>
<pre><code>#&gt; 
#&gt;  Fisher's Exact Test for Count Data
#&gt; 
#&gt; data:  ct_in
#&gt; p-value = 0.0005159
#&gt; alternative hypothesis: true odds ratio is not equal to 1
#&gt; 95 percent confidence interval:
#&gt;  1.392549 3.621201
#&gt; sample estimates:
#&gt; odds ratio 
#&gt;   2.227803</code></pre>
<p>This relationship is statistically significant. Note that the odds ratio is less than 1: this is because <code>vic40</code> takes values of 0=no, 1=yes, while <code>ur</code> takes 1=urban, 2=rural. So an odds ratio less than 1 means that an increase in <code>vic40</code> will tend to a decrease in <code>ur</code>, and vice versa. Is this relationship also true outside Atlantida and Cortes?</p>
<pre><code>#&gt; 
#&gt;  Fisher's Exact Test for Count Data
#&gt; 
#&gt; data:  ct_out
#&gt; p-value = 0.008704
#&gt; alternative hypothesis: true odds ratio is not equal to 1
#&gt; 95 percent confidence interval:
#&gt;  1.089323 1.851058
#&gt; sample estimates:
#&gt; odds ratio 
#&gt;   1.419594</code></pre>
<p>Yes it is, although the relationship is a little weaker outside Atlantida/Cortes than inside. So what have we learned here? If we take changing one’s shopping habits as a proxy for fear of crime:</p>
<ul>
<li>Urban people in Atlantida/Cortes are more afraid than urban people elsewhere</li>
<li>Rural people in Atlantida/Cortes aren’t any more afraid than rural people elsewhere</li>
<li>Urban people are more afraid than rural people, both inside and outside Atlantida/Cortes</li>
</ul>
<p>In general, the urban/rural split is more important than whether people live in Atlantida/Cortes. However, the cities in those departments appear to be worse than the cities elsewhere in the country. We could follow up on this by repeating our analysis using <code>municipio</code> rather than <code>prov</code>, to see which municipalities have more fearful populations. I think this might be harder to map using googleVis, but the statistical analysis should be similar.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Edouard Legoupil, Hisham Galal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
